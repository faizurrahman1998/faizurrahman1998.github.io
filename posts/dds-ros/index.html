<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="DDS &amp; ROS2" /><meta property="og:locale" content="en" /><meta name="description" content="Data Discovery Services (DDS) is a middleware protocol that enables real-time, scalable, and reliable data exchange between applications. I have first encountered it in ROS2 and thought that this might be an upgrade of MQTT where they might have replaced the remote broker with something of their own. Now, as I am trying to take a deeper dive into ROS2, I have found out that DDS is a distributed service. There is no centralized deamon controlling the connections of nodes or anything. So, here is my understanding of DDS and how it works on ROS2." /><meta property="og:description" content="Data Discovery Services (DDS) is a middleware protocol that enables real-time, scalable, and reliable data exchange between applications. I have first encountered it in ROS2 and thought that this might be an upgrade of MQTT where they might have replaced the remote broker with something of their own. Now, as I am trying to take a deeper dive into ROS2, I have found out that DDS is a distributed service. There is no centralized deamon controlling the connections of nodes or anything. So, here is my understanding of DDS and how it works on ROS2." /><link rel="canonical" href="https://faizurrahman1998.github.io/posts/dds-ros/" /><meta property="og:url" content="https://faizurrahman1998.github.io/posts/dds-ros/" /><meta property="og:site_name" content="Blank Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-08-27T09:30:00+06:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="DDS &amp; ROS2" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-08-27T22:19:40+06:00","datePublished":"2024-08-27T09:30:00+06:00","description":"Data Discovery Services (DDS) is a middleware protocol that enables real-time, scalable, and reliable data exchange between applications. I have first encountered it in ROS2 and thought that this might be an upgrade of MQTT where they might have replaced the remote broker with something of their own. Now, as I am trying to take a deeper dive into ROS2, I have found out that DDS is a distributed service. There is no centralized deamon controlling the connections of nodes or anything. So, here is my understanding of DDS and how it works on ROS2.","headline":"DDS &amp; ROS2","mainEntityOfPage":{"@type":"WebPage","@id":"https://faizurrahman1998.github.io/posts/dds-ros/"},"url":"https://faizurrahman1998.github.io/posts/dds-ros/"}</script><title>DDS & ROS2 | Blank Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Blank Blog"><meta name="application-name" content="Blank Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://avatars.githubusercontent.com/u/49806769?v=4" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Blank Blog</a></div><div class="site-subtitle font-italic">strive for progress...</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/faizurrahman1998" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['faizurrahman.fayez','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>DDS & ROS2</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>DDS & ROS2</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1724729400" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Aug 27, 2024 </em> </span> <span> Updated <em class="" data-ts="1724775580" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Aug 27, 2024 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/faizurrahman1998">Faizur Rahman Labib</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="666 words"> <em>3 min</em> read</span></div></div></div><div class="post-content"><blockquote><p><em>Data Discovery Services (DDS) is a middleware protocol that enables real-time, scalable, and reliable data exchange between applications. I have first encountered it in ROS2 and thought that this might be an upgrade of MQTT where they might have replaced the remote broker with something of their own. Now, as I am trying to take a deeper dive into ROS2, I have found out that DDS is a distributed service. There is no centralized deamon controlling the connections of nodes or anything. So, here is my understanding of DDS and how it works on ROS2.</em></p></blockquote><p>Lets look at the high-level architecture of MQTT and DDS.</p><div class="table-wrapper"><table><thead><tr><th>MQTT<th>DDS<tbody><tr><td><img data-src="/assets/dds_ros2/mqtt-protocol3.png" alt="MQTT Protocol Architecture" data-proofer-ignore><td><img data-src="/assets/dds_ros2/dds-entity.png" alt="DDS Entities with Architecture" data-proofer-ignore></table></div><p>We see that there is no concept of centralized control in DDS. In MQTT, all subscribers and publishers connect to the message broker. But, in DDS, we have DomainParticipants which uses a global Data Bus for communication.</p><p>Lets break DDS down. The main components of DDS are:</p><ul><li>DomainParticipant<li>DataWriters<li>DataReaders<li>Publishers<li>Subscribers<li>Topics<li>QoS etc.</ul><p>At its very core, there is the concept of <strong>Domain</strong>. A DDS Domain is a seperate communication plane, a logical network. Each Domain has a unique DomainID. The role of DomainID is very significant in DDS.</p><p><em>A DDS Domain, with a specific DomainID, is the logial network of applications. Each Domain has their own logical communication space, the Data Bus.</em></p><p>DomainParticipants with the same DomainID will know about each other and potentially establish communication among them. DDS middleware will ensure that DomainParticipants with different DomainID will never communicate. <br /> Thus, whenever a new DomainParticipant is created, it will advertise its presense in the whole network but only interact within its Domain. Each DomainParticipant will maintain information about the <em>Entities</em> created by itself and also other DomainParticipants in the same Domain.</p><h2 id="so-how-does-domainparticipants-find-out-about-each-other"><span class="mr-2">So, How does DomainParticipants find out about each other?</span><a href="#so-how-does-domainparticipants-find-out-about-each-other" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>In DDS, DomainParticipants follow a <strong>discovery protocol</strong>. Most common protocol is the <strong>Simple Discovery Protocol (SDP)</strong>. It has two phases:</p><ol><li><strong>Simple Participant Discovery Protocol (SPDP)</strong><li><strong>Simple Endpoint Discovery Protocol (SEDP)</strong></ol><p>In SPDP Phase, DomainParticipants learn about each other. <strong>ParticipantData</strong>s are sent periodically to the devices network. DDS Middleware looks at the ParticipantDatas and make logical networks based on DomainID. This phase uses <strong>best-effort</strong> communication. Once DomainParticipants know about each other, they move to the SEDP phase.</p><p>In SEDP Phase, DDS Middleware matches the DataWriters &amp; DataReaders are matched. <strong>PublicationData</strong> and <strong>SubscriptionData</strong> messages are exchanged among DomainParticipants. These exchange of messages continue until each DomainParticipant has a complete database of information about other DataWriters and DatReaders. Then the discovery process is complete and the system switches to a steady state. This phase uses <strong>reliable</strong> communication. <strong>During this steady state, ParticipantData messages are still sent periodically to ensure liveliness of the participant and also to discover new participants.</strong></p><p><img data-src="/assets/dds_ros2/BuiltinWritersAndReaders.png" alt="Simple Discovery Protocol" data-proofer-ignore></p><blockquote><p>For each DomainParticipant, there are six objects automatically created for discovery purposes. The top two objects are used to send receive participant DATA messages, which are used in the Participant Discovery phase to find remote DomainParticipants. This phase uses best-effort communications. Once the participants are aware of each other, they move on to the Endpoint Discovery Phase to learn about each other’s DataWriters and DataReaders. This phase uses reliable communications.</p></blockquote><p><img data-src="/assets/dds_ros2/SDP-image.png" alt="SDP of Node A and Node B" data-proofer-ignore> <br /> <br /> While the discovery process is going on, a <strong>matching phase</strong> starts. In this phase, DataWriters are matched with DataReaders. A <strong>match</strong> occurs if both the DataWriter and the DataReader have same topic, data-type and compatible QoS Setting. Communication between them starts only when both sides agree to the established connection.</p><p>When a DomainParticipant is deleted, it sends a ParticipantData(Delete) message with the DomainParicipant’s details. Other DomainParticipants update their database according to this delete messsage.</p><h2 id="dds-in-ros2"><span class="mr-2">DDS in ROS2</span><a href="#dds-in-ros2" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Lets make a rough picture of DDS in ROS2. ROS_DOMAIN_ID is the DomainID for the underlying DDS. Each Node in ROS2 creates a DomainParticipant under the hood. DataWriters are Publishers and DataReaders are Subscribers. The discovery process is the same as described above. <br /> <br /> <br /> <strong>Resources:</strong></p><ol><li><a href="https://community.rti.com/static/documentation/connext-dds/5.2.0/doc/manuals/connext_dds/html_files/RTI_ConnextDDS_CoreLibraries_UsersManual/index.htm">RTI Connext DDS Documentation</a><li><a href="https://content.rti.com/whitepaper-introduction-to-dds-lp">Whitepaper: An Introduction to DDS and Data-Centric Communications</a><li><a href="https://fast-dds.docs.eprosima.com/en/stable/">Fast DDS Documenation</a><li><a href="https://www.youtube.com/watch?v=u-saogMmKOo">DDS in a Nutshell</a></ol></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/communication/'>Communication</a>, <a href='/categories/robotics/'>Robotics</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/communication/" class="post-tag no-text-decoration" >Communication</a> <a href="/tags/dds/" class="post-tag no-text-decoration" >DDS</a> <a href="/tags/ros2/" class="post-tag no-text-decoration" >ROS2</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=DDS+%26+ROS2+-+Blank+Blog&url=https%3A%2F%2Ffaizurrahman1998.github.io%2Fposts%2Fdds-ros%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=DDS+%26+ROS2+-+Blank+Blog&u=https%3A%2F%2Ffaizurrahman1998.github.io%2Fposts%2Fdds-ros%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Ffaizurrahman1998.github.io%2Fposts%2Fdds-ros%2F&text=DDS+%26+ROS2+-+Blank+Blog" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/dds-ros/">DDS & ROS2</a><li><a href="/posts/hello-world/">Hello World!</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/all/">all</a> <a class="post-tag" href="/tags/communication/">Communication</a> <a class="post-tag" href="/tags/dds/">DDS</a> <a class="post-tag" href="/tags/general/">general</a> <a class="post-tag" href="/tags/ros2/">ROS2</a> <a class="post-tag" href="/tags/welcome/">welcome</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/hello-world/"><div class="card-body"> <em class="small" data-ts="1659065400" data-df="ll" > Jul 29, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Hello World!</h3><div class="text-muted small"><p> I have always wanted a personal blog site of my own. But too lazy to learn HTML &amp;amp; CSS. So, here I am with the saviour Jekyll. I still don’t know what am I going to write here. But Python &amp;amp...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/hello-world/" class="btn btn-outline-primary" prompt="Older"><p>Hello World!</p></a><div class="btn btn-outline-primary disabled" prompt="Newer"><p>-</p></div></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://github.com/faizurrahman1998">Faizur Rahman Labib</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/all/">all</a> <a class="post-tag" href="/tags/communication/">Communication</a> <a class="post-tag" href="/tags/dds/">DDS</a> <a class="post-tag" href="/tags/general/">general</a> <a class="post-tag" href="/tags/ros2/">ROS2</a> <a class="post-tag" href="/tags/welcome/">welcome</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
